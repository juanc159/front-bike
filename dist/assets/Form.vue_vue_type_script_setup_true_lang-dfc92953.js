import{u as b}from"./useCrudMenuStore-a4206ec3.js";import{e as c,s as x,r as v,o as q,c as w,d as s,w as l,B as u,E as y,b as g,A as d,k as o,Q as m}from"./index-5157f066.js";import{V as f}from"./VTextField-f6b14139.js";import{V as C}from"./VForm-8fa3c58d.js";const T=c({__name:"Form",setup($){const i=b(),{formulario:a}=x(i),t=v([]),V=v(),p=async n=>{var e;await((e=V.value)==null?void 0:e.resetValidation()),i.typeAction=n,n!="back"&&i.keyList++},k=async()=>{var e;const n=await((e=V.value)==null?void 0:e.validate());if(n!=null&&n.valid){const r=await i.fetchSave();r.status===200&&p("save"),r.status===422&&(t.value=r.error)}};return(n,e)=>(q(),w("div",null,[s(d,null,{default:l(()=>[s(u,{cols:"12",class:"d-flex justify-content-end"},{default:l(()=>[s(y,{color:"secondary",onClick:e[0]||(e[0]=r=>p("back"))},{default:l(()=>[g(" Atras ")]),_:1})]),_:1})]),_:1}),s(C,{ref_key:"formValidation",ref:V,"lazy-validation":""},{default:l(()=>[s(d,null,{default:l(()=>[s(u,{cols:"4"},{default:l(()=>[s(f,{modelValue:o(a).title,"onUpdate:modelValue":e[1]||(e[1]=r=>o(a).title=r),"error-messages":o(t).title,label:"TÃ­tulo",onKeypress:e[2]||(e[2]=r=>o(t).title=""),rules:[o(m)]},null,8,["modelValue","error-messages","rules"])]),_:1}),s(u,{cols:"4"},{default:l(()=>[s(f,{modelValue:o(a).to,"onUpdate:modelValue":e[3]||(e[3]=r=>o(a).to=r),"error-messages":o(t).to,label:"Redireccionar a",onKeypress:e[4]||(e[4]=r=>o(t).to=""),rules:[o(m)]},null,8,["modelValue","error-messages","rules"])]),_:1}),s(u,{cols:"4"},{default:l(()=>[s(f,{modelValue:o(a).icon,"onUpdate:modelValue":e[5]||(e[5]=r=>o(a).icon=r),"error-messages":o(t).icon,label:"Icono",onKeypress:e[6]||(e[6]=r=>o(t).icon=""),rules:[o(m)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),s(d,null,{default:l(()=>[s(u,{cols:"4"},{default:l(()=>[s(f,{modelValue:o(a).requiredPermission,"onUpdate:modelValue":e[7]||(e[7]=r=>o(a).requiredPermission=r),"error-messages":o(t).requiredPermission,label:"Permiso requerido",onKeypress:e[8]||(e[8]=r=>o(t).requiredPermission=""),rules:[o(m)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),s(d,null,{default:l(()=>[s(u,{cols:"12 d-flex justify-content-center"},{default:l(()=>[s(y,{color:"primary",onClick:e[9]||(e[9]=r=>k())},{default:l(()=>[g("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{T as _};

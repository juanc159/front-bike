import{u as c}from"./useCrudMenuStore-ddc51b60.js";import{r as d}from"./validators-e0eb24cc.js";import{d as b,y as q,k as v,o as x,c as w,p as l,w as s,A as y,B as g,q as o}from"./index-e5b1715d.js";import{a as u,V as m}from"./VRow-0d53bcfe.js";import{V as f}from"./VTextField-7b882186.js";import{V as C}from"./VForm-d55aee7b.js";const R=b({__name:"Form",setup($){const i=c(),{formulario:a}=q(i),t=v([]),V=v(),p=async n=>{var e;await((e=V.value)==null?void 0:e.resetValidation()),i.typeAction=n,n!="back"&&i.keyList++},k=async()=>{var e;const n=await((e=V.value)==null?void 0:e.validate());if(n!=null&&n.valid){const r=await i.fetchSave();r.status===200&&p("save"),r.status===422&&(t.value=r.error)}};return(n,e)=>(x(),w("div",null,[l(m,null,{default:s(()=>[l(u,{cols:"12",class:"d-flex justify-content-end"},{default:s(()=>[l(y,{color:"secondary",onClick:e[0]||(e[0]=r=>p("back"))},{default:s(()=>[g(" Atras ")]),_:1})]),_:1})]),_:1}),l(C,{ref_key:"formValidation",ref:V,"lazy-validation":""},{default:s(()=>[l(m,null,{default:s(()=>[l(u,{cols:"4"},{default:s(()=>[l(f,{modelValue:o(a).title,"onUpdate:modelValue":e[1]||(e[1]=r=>o(a).title=r),"error-messages":o(t).title,label:"TÃ­tulo",onKeypress:e[2]||(e[2]=r=>o(t).title=""),rules:[o(d)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(u,{cols:"4"},{default:s(()=>[l(f,{modelValue:o(a).to,"onUpdate:modelValue":e[3]||(e[3]=r=>o(a).to=r),"error-messages":o(t).to,label:"Redireccionar a",onKeypress:e[4]||(e[4]=r=>o(t).to=""),rules:[o(d)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(u,{cols:"4"},{default:s(()=>[l(f,{modelValue:o(a).icon,"onUpdate:modelValue":e[5]||(e[5]=r=>o(a).icon=r),"error-messages":o(t).icon,label:"Icono",onKeypress:e[6]||(e[6]=r=>o(t).icon=""),rules:[o(d)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),l(m,null,{default:s(()=>[l(u,{cols:"4"},{default:s(()=>[l(f,{modelValue:o(a).requiredPermission,"onUpdate:modelValue":e[7]||(e[7]=r=>o(a).requiredPermission=r),"error-messages":o(t).requiredPermission,label:"Permiso requerido",onKeypress:e[8]||(e[8]=r=>o(t).requiredPermission=""),rules:[o(d)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),l(m,null,{default:s(()=>[l(u,{cols:"12 d-flex justify-content-center"},{default:s(()=>[l(y,{color:"primary",onClick:e[9]||(e[9]=r=>k())},{default:s(()=>[g("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{R as _};

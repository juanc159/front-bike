import{_ as Ve}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-3559234b.js";import{ao as M,I as S,k as B,O as ke,q as m,bt as we,aN as te,bL as Se,p as l,J as Pe,aQ as K,G as q,bo as ne,am as U,ak as R,$ as G,ac as N,bM as ee,Y as z,a4 as oe,bd as Ie,bf as Te,ab as _e,a1 as Y,bh as De,F as W,V as Ce,A as $,B as Q,at as Fe,N as re,ae as ie,aq as Be,aM as $e,aO as Oe,d as Me,z as Ne,y as Ae,ar as Ee,o as se,c as Le,b as Ke,w as k,m as Ge,C as Ue,H as Z,bs as Re}from"./index-13e9e9f8.js";import{u as He}from"./useCrudIncomeVehicleStore-b8157641.js";import{r as F,i as ue}from"./validators-e0eb24cc.js";import{a as T,V as j}from"./VRow-cb5cfbd1.js";import{V as H}from"./VSelect-457fc5fa.js";import{V as O}from"./VTextField-2e327a5c.js";import{V as ae}from"./VCheckboxBtn-3ba417a2.js";import{m as ze,u as je}from"./VList-d64fc45e.js";import{V as We}from"./VTable-a9c2f071.js";import{V as de}from"./VForm-ceb26d7c.js";const Qe=(e,o,t)=>e==null||o==null?-1:e.toString().toLocaleLowerCase().indexOf(o.toString().toLocaleLowerCase()),Ye=M({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Je(e,o,t){var n;const a=[],s=(t==null?void 0:t.default)??Qe,i=t!=null&&t.filterKeys?we(t.filterKeys):!1,u=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let d=0;d<e.length;d++){const f=e[d],r={},v={};let g=-1;if(o&&!(t!=null&&t.noFilter)){if(typeof f=="object"){const P=i||Object.keys(f);for(const I of P){const V=te(f,I,f),b=(n=t==null?void 0:t.customKeyFilter)==null?void 0:n[I];if(g=b?b(V,o,f):s(V,o,f),g!==-1&&g!==!1)b?r[I]=g:v[I]=g;else if((t==null?void 0:t.filterMode)==="every")continue e}}else g=s(f,o,f),g!==-1&&g!==!1&&(v.title=g);const h=Object.keys(v).length,x=Object.keys(r).length;if(!h&&!x||(t==null?void 0:t.filterMode)==="union"&&x!==u&&!h||(t==null?void 0:t.filterMode)==="intersection"&&(x!==u||!h))continue}a.push({index:d,matches:{...v,...r}})}return a}function Xe(e,o,t,a){const s=S(()=>typeof(t==null?void 0:t.value)!="string"&&typeof(t==null?void 0:t.value)!="number"?"":String(t.value)),i=B([]),u=B(new Map);ke(()=>{i.value=[],u.value=new Map;const d=m(o);Je(d,s.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:m(a==null?void 0:a.filterKeys)??e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}).forEach(r=>{let{index:v,matches:g}=r;const h=d[v];i.value.push(h),u.value.set(h.value,g)})});function n(d){return u.value.get(d.value)}return{filteredItems:i,filteredMatches:u,getMatches:n}}const le=Se({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,o)=>{let{slots:t,attrs:a}=o;const s=e.tag??"td";return l(s,Pe({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:K(e.height),width:K(e.width),left:K(e.fixedOffset||null)}},a),{default:()=>{var i;return[(i=t.default)==null?void 0:i.call(t)]}})}),Ze=M({headers:{type:Array,default:()=>[]}},"v-data-table-header"),ce=Symbol.for("vuetify:data-table-headers");function qe(e,o){const t=B([]),a=B([]);q(()=>e.headers,()=>{var x,P,I;const i=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],u=i.flatMap((V,b)=>V.map(y=>({column:y,row:b}))),n=i.length,d={title:"",sortable:!1},f={...d,width:48};if((x=o==null?void 0:o.groupBy)!=null&&x.value.length){const V=u.findIndex(b=>{let{column:y}=b;return y.key==="data-table-group"});V<0?u.unshift({column:{...d,key:"data-table-group",title:"Group",rowspan:n},row:0}):u.splice(V,1,{column:{...d,...u[V].column},row:u[V].row})}if((P=o==null?void 0:o.showSelect)!=null&&P.value){const V=u.findIndex(b=>{let{column:y}=b;return y.key==="data-table-select"});V<0?u.unshift({column:{...f,key:"data-table-select",rowspan:n},row:0}):u.splice(V,1,{column:{...f,...u[V].column},row:u[V].row})}if((I=o==null?void 0:o.showExpand)!=null&&I.value){const V=u.findIndex(b=>{let{column:y}=b;return y.key==="data-table-expand"});V<0?u.push({column:{...f,key:"data-table-expand",rowspan:n},row:0}):u.splice(V,1,{column:{...f,...u[V].column},row:u[V].row})}const r=ne(n).map(()=>[]),v=ne(n).fill(0);let g=0;u.forEach(V=>{let{column:b,row:y}=V;const _=b.key??`data-table-column-${g++}`;for(let D=y;D<=y+(b.rowspan??1)-1;D++)r[D].push({...b,key:_,fixedOffset:v[D],sortable:b.sortable??!!b.key}),v[D]+=b.width??0}),r.forEach(V=>{for(let b=V.length;b--;b>=0)if(V[b].fixed){V[b].lastFixed=!0;return}});const h=new Set;t.value=r.map(V=>{const b=[];for(const y of V)h.has(y.key)||(h.add(y.key),b.push(y));return b}),a.value=r.at(-1)??[]},{deep:!0,immediate:!0});const s={headers:t,columns:a};return U(ce,s),s}function J(){const e=R(ce);if(!e)throw new Error("Missing headers!");return e}const et=M({showSelect:Boolean,modelValue:{type:Array,default:()=>[]}},"v-data-table-select"),me=Symbol.for("vuetify:data-table-selection");function tt(e,o){const t=G(e,"modelValue",e.modelValue,v=>new Set(v),v=>[...v.values()]);function a(v){return v.every(g=>t.value.has(g.value))}function s(v){return v.some(g=>t.value.has(g.value))}function i(v,g){const h=new Set(t.value);for(const x of v)g?h.add(x.value):h.delete(x.value);t.value=h}function u(v){i([v],!a([v]))}function n(v){i(o.value,v)}const d=S(()=>t.value.size>0),f=S(()=>a(o.value)),r={toggleSelect:u,select:i,selectAll:n,isSelected:a,isSomeSelected:s,someSelected:d,allSelected:f};return U(me,r),r}function X(){const e=R(me);if(!e)throw new Error("Missing selection!");return e}const at=M({sortBy:{type:Array,default:()=>[]},multiSort:Boolean,mustSort:Boolean},"v-data-table-sort"),fe=Symbol.for("vuetify:data-table-sort");function lt(e){const o=G(e,"sortBy"),t=N(e,"mustSort"),a=N(e,"multiSort");return{sortBy:o,mustSort:t,multiSort:a}}function nt(e){const{sortBy:o,mustSort:t,multiSort:a,page:s}=e,u={sortBy:o,toggleSort:n=>{let d=o.value.map(r=>({...r}))??[];const f=d.find(r=>r.key===n);f?f.order==="desc"?t.value?f.order="asc":d=d.filter(r=>r.key!==n):f.order="desc":a.value?d=[...d,{key:n,order:"asc"}]:d=[{key:n,order:"asc"}],o.value=d,s&&(s.value=1)}};return U(fe,u),u}function ot(){const e=R(fe);if(!e)throw new Error("Missing sort!");return e}function rt(e,o,t){const a=S(()=>t.value.reduce((i,u)=>(u.sort&&(i[u.key]=u.sort),i),{}));return{sortedItems:S(()=>o.value.length?st(e.value,o.value,"en",a.value):e.value)}}function st(e,o,t,a){const s=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return[...e].sort((i,u)=>{for(let n=0;n<o.length;n++){const d=o[n].key,f=o[n].order;if(f===!1)continue;let r=ee(i.raw,d),v=ee(u.raw,d);if(f==="desc"&&([r,v]=[v,r]),a!=null&&a[d]){const g=a[d](r,v);if(!g)continue;return g}if(!(r==null||v==null)){if(r instanceof Date&&v instanceof Date)return r.getTime()-v.getTime();if([r,v]=[r,v].map(g=>(g||"").toString().toLocaleLowerCase()),r!==v)return!isNaN(r)&&!isNaN(v)?Number(r)-Number(v):s.compare(r,v)}}return 0})}const ut=z()({name:"VDataTableHeaders",props:{color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:oe,default:"$sortAsc"},sortDescIcon:{type:oe,default:"$sortDesc"},...Ie()},setup(e,o){let{slots:t,emit:a}=o;const{toggleSort:s,sortBy:i}=ot(),{someSelected:u,allSelected:n,selectAll:d}=X(),{columns:f,headers:r}=J(),{loaderClasses:v}=Te(e),g=(b,y)=>!e.sticky&&!b.fixed?null:{position:"sticky",zIndex:b.fixed?4:e.sticky?3:void 0,left:b.fixed?K(b.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${y})`:void 0};function h(b){const y=i.value.find(_=>_.key===b);return y?y.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:x,backgroundColorStyles:P}=_e(e,"color"),I=S(()=>({headers:r.value,columns:f.value,toggleSort:s,sortBy:i.value,someSelected:u.value,allSelected:n.value,selectAll:d,getSortIcon:h,getFixedStyles:g})),V=b=>{let{column:y,x:_,y:D}=b;const A=!!i.value.find(w=>w.key===y.key),E=y.key==="data-table-select"||y.key==="data-table-expand";return l(le,{tag:"th",align:y.align,class:["v-data-table__th",{"v-data-table__th--sortable":y.sortable,"v-data-table__th--sorted":A},v.value],style:{width:K(y.width),minWidth:K(y.width),...g(y,D)},colspan:y.colspan,rowspan:y.rowspan,onClick:y.sortable?()=>s(y.key):void 0,lastFixed:y.lastFixed,noPadding:E},{default:()=>{var C;const w=`column.${y.key}`,c={column:y,selectAll:d};return t[w]?t[w](c):y.key==="data-table-select"?((C=t["column.data-table-select"])==null?void 0:C.call(t,c))??l(ae,{modelValue:n.value,indeterminate:u.value&&!n.value,"onUpdate:modelValue":d},null):l("div",{class:"v-data-table-header__content"},[l("span",null,[y.title]),y.sortable&&l(Ce,{key:"icon",class:"v-data-table-header__sort-icon",icon:h(y.key)},null),e.multiSort&&A&&l("div",{key:"badge",class:["v-data-table-header__sort-badge",...x.value],style:P.value},[i.value.findIndex(p=>p.key===y.key)+1])])}})};Y(()=>l(W,null,[t.headers?t.headers(I.value):r.value.map((b,y)=>l("tr",null,[b.map((_,D)=>l(V,{column:_,x:D,y},null))])),e.loading&&l("tr",{class:"v-data-table__progress"},[l("th",{colspan:f.value.length},[l(De,{name:"v-data-table-headers",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),dt=M({groupBy:{type:Array,default:()=>[]}},"data-table-group"),ve=Symbol.for("vuetify:data-table-group");function it(e){return{groupBy:G(e,"groupBy")}}function ct(e){const{groupBy:o,sortBy:t}=e,a=B(new Set),s=S(()=>o.value.map(f=>({...f,order:f.order??!1})).concat(t.value));function i(f){return a.value.has(f.id)}function u(f){const r=new Set(a.value);i(f)?r.delete(f.id):r.add(f.id),a.value=r}function n(f){function r(v){const g=[];for(const h of v.items)h.type==="item"?g.push(h):g.push(...r(h));return g}return r({type:"group-header",items:f,id:"dummy",key:"dummy",value:"dummy",depth:0})}const d={sortByWithGroups:s,toggleGroup:u,opened:a,groupBy:o,extractRows:n,isGroupOpen:i};return U(ve,d),d}function ge(){const e=R(ve);if(!e)throw new Error("Missing group!");return e}function mt(e,o){if(!e.length)return[];const t=new Map;for(const a of e){const s=ee(a.raw,o);t.has(s)||t.set(s,[]),t.get(s).push(a)}return t}function ye(e,o){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!o.length)return[];const s=mt(e,o[0]),i=[],u=o.slice(1);return s.forEach((n,d)=>{const f=o[0],r=`${a}_${f}_${d}`;i.push({depth:t,id:r,key:f,value:d,items:u.length?ye(n,u,t+1,r):n,type:"group-header"})}),i}function be(e,o){const t=[];for(const a of e)a.type==="group-header"?(a.value!=null&&t.push(a),(o.has(a.id)||a.value==null)&&t.push(...be(a.items,o))):t.push(a);return t}function ft(e,o,t){return{flatItems:S(()=>{if(!o.value.length)return e.value;const s=ye(e.value,o.value.map(i=>i.key));return be(s,t.value)})}}const vt=z()({name:"VDataTableGroupHeaderRow",props:{item:{type:Object,required:!0}},setup(e,o){let{slots:t}=o;const{isGroupOpen:a,toggleGroup:s,extractRows:i}=ge(),{isSelected:u,isSomeSelected:n,select:d}=X(),{columns:f}=J(),r=S(()=>i([e.item]));return()=>l("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[f.value.map(v=>{var g,h;if(v.key==="data-table-group"){const x=a(e.item)?"$expand":"$next",P=()=>s(e.item);return((g=t["data-table-group"])==null?void 0:g.call(t,{item:e.item,count:r.value.length,props:{icon:x,onClick:P}}))??l(le,{class:"v-data-table-group-header-row__column"},{default:()=>[l($,{size:"small",variant:"text",icon:x,onClick:P},null),l("span",null,[e.item.value]),l("span",null,[Q("("),r.value.length,Q(")")])]})}if(v.key==="data-table-select"){const x=u(r.value),P=n(r.value)&&!x,I=V=>d(r.value,V);return((h=t["data-table-select"])==null?void 0:h.call(t,{props:{modelValue:x,indeterminate:P,"onUpdate:modelValue":I}}))??l("td",null,[l(ae,{modelValue:x,indeterminate:P,"onUpdate:modelValue":I},null)])}return l("td",null,null)})])}}),gt=M({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"v-data-table-expand"),pe=Symbol.for("vuetify:datatable:expanded");function yt(e){const o=N(e,"expandOnClick"),t=G(e,"expanded",e.expanded,n=>new Set(n),n=>[...n.values()]);function a(n,d){const f=new Set(t.value);d?f.add(n.value):f.delete(n.value),t.value=f}function s(n){return t.value.has(n.value)}function i(n){a(n,!s(n))}const u={expand:a,expanded:t,expandOnClick:o,isExpanded:s,toggleExpand:i};return U(pe,u),u}function he(){const e=R(pe);if(!e)throw new Error("foo");return e}const bt=Fe({name:"VDataTableRow",props:{index:Number,item:Object,onClick:Function},setup(e,o){let{slots:t}=o;const{isSelected:a,toggleSelect:s}=X(),{isExpanded:i,toggleExpand:u}=he(),{columns:n}=J();Y(()=>l("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&n.value.map((d,f)=>l(le,{align:d.align,fixed:d.fixed,fixedOffset:d.fixedOffset,lastFixed:d.lastFixed,noPadding:d.key==="data-table-select"||d.key==="data-table-expand",width:d.width},{default:()=>{var h,x;const r=e.item,v=`item.${d.key}`,g={index:e.index,item:e.item,columns:n.value,isSelected:a,toggleSelect:s,isExpanded:i,toggleExpand:u};return t[v]?t[v](g):d.key==="data-table-select"?((h=t["item.data-table-select"])==null?void 0:h.call(t,g))??l(ae,{modelValue:a([r]),onClick:re(()=>s(r),["stop"])},null):d.key==="data-table-expand"?((x=t["item.data-table-expand"])==null?void 0:x.call(t,g))??l($,{icon:i(r)?"$collapse":"$expand",size:"small",variant:"text",onClick:re(()=>u(r),["stop"])},null):te(r.columns,d.key)}}))]))}}),pt=z()({name:"VDataTableRows",props:{loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},setup(e,o){let{emit:t,slots:a}=o;const{columns:s}=J(),{expandOnClick:i,toggleExpand:u,isExpanded:n}=he(),{isSelected:d,toggleSelect:f}=X(),{toggleGroup:r,isGroupOpen:v}=ge(),{t:g}=ie();return Y(()=>{var h;return e.loading&&a.loading?l("tr",{class:"v-data-table-rows-loading",key:"loading"},[l("td",{colspan:s.value.length},[a.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?l("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[l("td",{colspan:s.value.length},[((h=a["no-data"])==null?void 0:h.call(a))??g(e.noDataText)])]):l(W,null,[e.items.map((x,P)=>{var V;if(x.type==="group-header")return a["group-header"]?a["group-header"]({index:P,item:x,columns:s.value,isExpanded:n,toggleExpand:u,isSelected:d,toggleSelect:f,toggleGroup:r,isGroupOpen:v}):l(vt,{key:`group-header_${x.id}`,item:x},a);const I={index:P,item:x,columns:s.value,isExpanded:n,toggleExpand:u,isSelected:d,toggleSelect:f};return l(W,null,[a.item?a.item(I):l(bt,{key:`item_${x.value}`,onClick:i.value||e["onClick:row"]?b=>{var y;i.value&&u(x),(y=e["onClick:row"])==null||y.call(e,b,{item:x})}:void 0,index:P,item:x},a),n(x)&&((V=a["expanded-row"])==null?void 0:V.call(a,I))])})])}),{}}});const ht=M({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"v-data-table-paginate"),xe=Symbol.for("vuetify:data-table-pagination");function xt(e){const o=G(e,"page",void 0,a=>+(a??1)),t=G(e,"itemsPerPage",void 0,a=>+(a??10));return{page:o,itemsPerPage:t}}function Vt(e){const{page:o,itemsPerPage:t,itemsLength:a}=e,s=S(()=>t.value===-1?0:t.value*(o.value-1)),i=S(()=>t.value===-1?a.value:Math.min(a.value,s.value+t.value)),u=S(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));function n(f){t.value=f,o.value=1}const d={page:o,itemsPerPage:t,itemsLength:a,startIndex:s,stopIndex:i,pageCount:u,setItemsPerPage:n};return U(xe,d),d}function kt(){const e=R(xe);if(!e)throw new Error("Missing pagination!");return e}function wt(e){const{items:o,startIndex:t,stopIndex:a,itemsPerPage:s}=e;return{paginatedItems:S(()=>s.value<=0?o.value:o.value.slice(t.value,a.value))}}const St=z()({name:"VDataTableFooter",props:{prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},setup(e,o){let{slots:t}=o;const{t:a}=ie(),{page:s,pageCount:i,startIndex:u,stopIndex:n,itemsLength:d,itemsPerPage:f,setItemsPerPage:r}=kt(),v=S(()=>e.itemsPerPageOptions.map(g=>({...g,title:a(g.title)})));return()=>{var g;return l("div",{class:"v-data-table-footer"},[(g=t.prepend)==null?void 0:g.call(t),l("div",{class:"v-data-table-footer__items-per-page"},[l("span",null,[a(e.itemsPerPageText)]),l(H,{items:v.value,modelValue:f.value,"onUpdate:modelValue":h=>r(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),l("div",{class:"v-data-table-footer__info"},[l("div",null,[a(e.pageText,d.value?u.value+1:0,n.value,d.value)])]),l("div",{class:"v-data-table-footer__pagination"},[l($,{icon:e.firstIcon,variant:"plain",onClick:()=>s.value=1,disabled:s.value===1,"aria-label":a(e.firstPageLabel)},null),l($,{icon:e.prevIcon,variant:"plain",onClick:()=>s.value=Math.max(1,s.value-1),disabled:s.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&l("span",{key:"page",class:"v-data-table-footer__page"},[s.value]),l($,{icon:e.nextIcon,variant:"plain",onClick:()=>s.value=Math.min(i.value,s.value+1),disabled:s.value===i.value,"aria-label":a(e.nextPageLabel)},null),l($,{icon:e.lastIcon,variant:"plain",onClick:()=>s.value=i.value,disabled:s.value===i.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),Pt=M({...ze({itemValue:"id"})},"v-data-table-item");function It(e,o,t){const a=o.split(".");for(;a.length>1;){const s=a.shift();e[s]==null&&(e[s]={}),typeof e[s]=="object"&&(e=e[s])}e[a[0]]=t}function Tt(e,o){const{items:t}=je(e);return{items:S(()=>t.value.map(s=>({...s,type:"item",columns:o.value.reduce((i,u)=>(It(i,u.key,te(s.raw,u.value??u.key)),i),{})})))}}function _t(e){let{page:o,itemsPerPage:t,sortBy:a,groupBy:s,search:i}=e;const u=Be("VDataTable"),n=S(()=>({page:o.value,itemsPerPage:t.value,sortBy:a.value,groupBy:s.value,search:i.value}));q(()=>i==null?void 0:i.value,()=>{o.value=1});let d=null;q(n,()=>{$e(d,n.value)||(u.emit("update:options",n.value),d=n.value)},{deep:!0,immediate:!0})}const Dt=M({...Pt(),...Ze(),hideNoData:Boolean,hover:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},height:[String,Number],width:[String,Number],fixedHeader:Boolean,fixedFooter:Boolean,"onClick:row":Function,search:String},"v-data-table"),Ct=z()({name:"VDataTable",props:{...Dt(),...gt(),...dt(),...et(),...at(),...ht(),...Ye()},emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,o){let{emit:t,slots:a}=o;const{groupBy:s}=it(e),{sortBy:i,multiSort:u,mustSort:n}=lt(e),{page:d,itemsPerPage:f}=xt(e),{columns:r}=qe(e,{groupBy:s,showSelect:N(e,"showSelect"),showExpand:N(e,"showExpand")}),{items:v}=Tt(e,r),g=S(()=>r.value.map(c=>"columns."+c.key)),h=N(e,"search"),{filteredItems:x}=Xe(e,v,h,{filterKeys:g});nt({sortBy:i,multiSort:u,mustSort:n,page:d});const{sortByWithGroups:P,opened:I,extractRows:V}=ct({groupBy:s,sortBy:i}),{sortedItems:b}=rt(x,P,r),{flatItems:y}=ft(b,s,I),_=S(()=>y.value.length),{startIndex:D,stopIndex:A}=Vt({page:d,itemsPerPage:f,itemsLength:_}),{paginatedItems:E}=wt({items:y,startIndex:D,stopIndex:A,itemsPerPage:f}),w=S(()=>V(E.value));return tt(e,w),yt(e),_t({page:d,itemsPerPage:f,sortBy:i,groupBy:s,search:h}),Oe({VDataTableRows:{hideNoData:N(e,"hideNoData"),noDataText:N(e,"noDataText")}}),Y(()=>l(We,{class:["v-data-table",{"v-data-table--show-select":e.showSelect}],fixedHeader:e.fixedHeader,fixedFooter:e.fixedFooter,height:e.height,hover:e.hover},{top:a.top,default:a.default??(()=>{var c,C,p,L;return l(W,null,[(c=a.colgroup)==null?void 0:c.call(a,{columns:r}),l("thead",null,[l(ut,{sticky:e.fixedHeader,multiSort:e.multiSort},a)]),(C=a.thead)==null?void 0:C.call(a),l("tbody",null,[a.body?a.body():l(pt,{items:E.value,"onClick:row":e["onClick:row"]},a)]),(p=a.tbody)==null?void 0:p.call(a),(L=a.tfoot)==null?void 0:L.call(a)])}),bottom:a.bottom??(()=>l(St,null,{prepend:a["footer.prepend"]}))})),{}}}),Ft={class:"col-md-6 d-flex justify-content-end"},Ht=Me({__name:"Form",props:{userId:{type:Number,default:null,required:!1},btnBack:{type:Boolean,default:!0,required:!1}},setup(e){const o=e,t=Re(),a=[{title:"Nombre",key:"name"},{title:"Valor",key:"amount"},{title:"Acción",key:"action"}],s=B(),i=Ne(),u=He(),{formulario:n,operatives:d,typeArrangement:f}=Ae(u),r=B([]),v=B([]),g=async w=>{var c;u.typeAction=w,v.value=[],r.value=[],await((c=s.value)==null?void 0:c.resetValidation()),w!="back"&&u.keyList++},h=S(()=>Number(n.value.value_labor??0)+Number(n.value.value_parts??0)),x=S(()=>Number(n.value.value_labor??0)*60/100),P=S(()=>Number(n.value.value_labor??0)*40/100),I=async()=>{var c;n.value.company_id=i.company.id,n.total_costs=h.value,n.paid_labor=x.value;const w=await((c=s.value)==null?void 0:c.validate());if(w!=null&&w.valid){const C=await u.fetchSave();C.status===200&&g("list"),C.status===422&&(r.value=C.error)}},V=B(),b=B([]),y=S(()=>b.value.filter(w=>w.delete!="delete")),_=B({type:null,amount:null}),D=()=>{_.value={type:null,amount:null}},A=async()=>{var c;const w=await((c=V.value)==null?void 0:c.validate());if(w!=null&&w.valid)if(b.value.find(p=>p.type_id==_.value.type))t.toast("Este Tipo De Arreglo Ya Esta Seleccionado","","danger");else{const p=f.value.find(L=>L.id==_.value.type);b.value.push({type_id:_.value.type,name:p.name,amount:_.value.amount})}D()},E=async w=>{b.value[w].id?(console.log("if"),b.value[w].delete="delete"):(console.log("else"),b.value.splice(w,1))};return Ee(async()=>{await u.fetchDataForm(),o.userId&&await u.fetchInfo(o.userId)}),(w,c)=>{const C=Ve;return se(),Le("div",null,[o.btnBack==!0?(se(),Ke(j,{key:0},{default:k(()=>[l(T,{cols:"12"},{default:k(()=>[Ge("div",Ft,[l($,{color:"secondary",onClick:c[0]||(c[0]=p=>g("back"))},{default:k(()=>[Q(" Atras ")]),_:1})])]),_:1})]),_:1})):Ue("",!0),l(m(de),{ref_key:"formValidation",ref:s,"lazy-validation":""},{default:k(()=>[l(j,null,{default:k(()=>[l(T,{cols:"12",md:"4",class:"mt-1"},{default:k(()=>[l(C,{modelValue:m(n).date_init,"onUpdate:modelValue":c[1]||(c[1]=p=>m(n).date_init=p),label:"Fecha Ingreso"},null,8,["modelValue"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-2"},{default:k(()=>[l(H,{items:m(d),modelValue:m(n).mecanic_id,"onUpdate:modelValue":c[2]||(c[2]=p=>m(n).mecanic_id=p),label:"Operario","item-value":"id","item-title":"name",rules:[m(F)],class:"mt-5"},null,8,["items","modelValue","rules"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-2"},{default:k(()=>[l(H,{items:["Moto","Carro"],modelValue:m(n).type_vehicle,"onUpdate:modelValue":c[3]||(c[3]=p=>m(n).type_vehicle=p),label:"Tipo de Vehículo",rules:[m(F)],class:"mt-5"},null,8,["modelValue","rules"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-5"},{default:k(()=>[l(O,{modelValue:m(n).utilites,"onUpdate:modelValue":c[4]||(c[4]=p=>m(n).utilites=p),rules:[m(F)],autocomplete:"off","error-messages":m(r).utilites,label:"Utilidades",onKeypress:c[5]||(c[5]=p=>m(r).utilites=""),class:"mt-3",disabled:""},null,8,["modelValue","rules","error-messages"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-5"},{default:k(()=>[l(O,{modelValue:m(n).brand,"onUpdate:modelValue":c[6]||(c[6]=p=>m(n).brand=p),rules:[m(F)],autocomplete:"off","error-messages":m(r).brand,label:"Marca",onKeypress:c[7]||(c[7]=p=>m(r).brand=""),class:"mt-3"},null,8,["modelValue","rules","error-messages"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-2"},{default:k(()=>[l(H,{items:["Si","No"],modelValue:m(n).pay_labor,"onUpdate:modelValue":c[8]||(c[8]=p=>m(n).pay_labor=p),label:"Pago Mano De Obra",rules:[m(F)],class:"mt-5"},null,8,["modelValue","rules"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-5"},{default:k(()=>[l(O,{modelValue:m(n).plate,"onUpdate:modelValue":c[9]||(c[9]=p=>m(n).plate=p),rules:[m(F)],autocomplete:"off","error-messages":m(r).plate,label:"Placa",onKeypress:c[10]||(c[10]=p=>m(r).plate="")},null,8,["modelValue","rules","error-messages"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-5"},{default:k(()=>[l(O,{modelValue:m(n).value_labor,"onUpdate:modelValue":c[11]||(c[11]=p=>m(n).value_labor=p),rules:[m(F),m(ue)],autocomplete:"off","error-messages":m(r).value_labor,label:"Valor Mano De Obra",onKeypress:c[12]||(c[12]=p=>m(r).value_labor=""),type:"number"},null,8,["modelValue","rules","error-messages"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-5"},{default:k(()=>[l(O,{modelValue:m(n).value_parts,"onUpdate:modelValue":c[13]||(c[13]=p=>m(n).value_parts=p),rules:[m(F)],autocomplete:"off","error-messages":m(r).value_parts,label:"Valor Repuestos",onKeypress:c[14]||(c[14]=p=>m(r).value_parts=""),type:"number"},null,8,["modelValue","rules","error-messages"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-5"},{default:k(()=>[l(O,{modelValue:m(x),"onUpdate:modelValue":c[15]||(c[15]=p=>Z(x)?x.value=p:null),rules:[m(F)],autocomplete:"off","error-messages":m(r).paid_labor60,label:"Valor Mano De Obra 60%",onKeypress:c[16]||(c[16]=p=>m(r).paid_labor=""),class:"mt-3"},null,8,["modelValue","rules","error-messages"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-5"},{default:k(()=>[l(O,{modelValue:m(P),"onUpdate:modelValue":c[17]||(c[17]=p=>Z(P)?P.value=p:null),rules:[m(F)],autocomplete:"off",label:"Valor Mano De Obra 40%",class:"mt-3"},null,8,["modelValue","rules"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-1"},{default:k(()=>[l(C,{modelValue:m(n).date_pay_labor,"onUpdate:modelValue":c[18]||(c[18]=p=>m(n).date_pay_labor=p),label:"Fecha Pago Mano De Obra"},null,8,["modelValue"])]),_:1}),l(T,{cols:"12",md:"4",class:"mt-3"},{default:k(()=>[l(O,{modelValue:m(h),"onUpdate:modelValue":c[19]||(c[19]=p=>Z(h)?h.value=p:null),rules:[m(F)],autocomplete:"off","error-messages":m(r).total_costs,label:"Total Costos",onKeypress:c[20]||(c[20]=p=>m(r).total_costs=""),class:"mt-2",disabled:""},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1},512),l(m(de),{ref_key:"formValidate",ref:V,"lazy-validation":""},{default:k(()=>[l(j,null,{default:k(()=>[l(T,{cols:"12",md:"5",class:""},{default:k(()=>[l(H,{items:m(f),label:"Tipo De Arreglo",modelValue:m(_).type,"onUpdate:modelValue":c[21]||(c[21]=p=>m(_).type=p),"item-value":"id","item-title":"name",rules:[m(F)],class:"mt-5"},null,8,["items","modelValue","rules"])]),_:1}),l(T,{cols:"12",md:"5",class:"mt-3"},{default:k(()=>[l(O,{modelValue:m(_).amount,"onUpdate:modelValue":c[22]||(c[22]=p=>m(_).amount=p),class:"mt-2",label:"Valor",type:"number",rules:[m(F),m(ue)]},null,8,["modelValue","rules"])]),_:1}),l(T,{cols:"12",md:"2",class:"mt-0"},{default:k(()=>[l($,{color:"primary",icon:"tabler-plus",class:"ml-2 mt-3",onClick:c[23]||(c[23]=p=>A())})]),_:1})]),_:1})]),_:1},512),l(T,{cols:"12",md:"12",class:"mt-2 d-flex mb-5"},{default:k(()=>[l(m(Ct),{headers:a,items:m(y),height:"300","fixed-header":""},{bottom:k(()=>[]),"item.action":k(({item:p,index:L})=>[l($,{color:"error",icon:"tabler-trash",onClick:Bt=>E(L),size:"30"},null,8,["onClick"])]),_:1},8,["items"])]),_:1}),l(j,null,{default:k(()=>[l(T,{cols:"12 d-flex justify-content-center"},{default:k(()=>[l($,{color:"primary",onClick:I},{default:k(()=>[Q(" Guardar ")]),_:1})]),_:1})]),_:1})])}}});export{Ht as _};

import{u as x}from"./useCrudMecanicStore-416c13ea.js";import{d as C,k as f,z as w,y as S,o as N,c as A,p as l,w as t,m as B,V as y,E as v,q as a}from"./index-333f41b8.js";import{r as m}from"./validators-da167dd6.js";import{a as u,V as c}from"./VRow-d2a2c669.js";import{V as p}from"./VTextField-e0c3ad65.js";import{V as F}from"./VSelect-026de29d.js";import{V as U}from"./VForm-fdf9fdaa.js";const $={class:"col-md-6 d-flex justify-content-end"},G=C({__name:"Form",props:{userId:{type:Number,default:null,required:!1}},setup(q){const _=[{value:1,title:"Activo"},{value:2,title:"Inactivo"}],i=f(),b=w(),d=x(),{formulario:s}=S(d),r=f([]),k=f([]),V=async n=>{var e;d.typeAction=n,k.value=[],r.value=[],await((e=i.value)==null?void 0:e.resetValidation()),n!="back"&&d.keyList++},g=async()=>{var e;const n=await((e=i.value)==null?void 0:e.validate());if(n!=null&&n.valid){s.value.company_id=b.company.id;const o=await d.fetchSave();o.code===200&&V("list"),o.code===422&&(r.value=o.error)}};return(n,e)=>(N(),A("div",null,[l(c,null,{default:t(()=>[l(u,{cols:"12"},{default:t(()=>[B("div",$,[l(y,{color:"secondary",onClick:e[0]||(e[0]=o=>V("back"))},{default:t(()=>[v(" Atras ")]),_:1})])]),_:1})]),_:1}),l(a(U),{ref_key:"formValidation",ref:i,"lazy-validation":""},{default:t(()=>[l(c,null,{default:t(()=>[l(u,{cols:"12",md:"6"},{default:t(()=>[l(p,{modelValue:a(s).name,"onUpdate:modelValue":e[1]||(e[1]=o=>a(s).name=o),rules:[a(m)],autocomplete:"off","error-messages":a(r).name,label:"Nombre",onKeypress:e[2]||(e[2]=o=>a(r).name="")},null,8,["modelValue","rules","error-messages"])]),_:1}),l(u,{cols:"12",md:"6"},{default:t(()=>[l(p,{modelValue:a(s).last_name,"onUpdate:modelValue":e[3]||(e[3]=o=>a(s).last_name=o),rules:[a(m)],autocomplete:"off","error-messages":a(r).last_name,label:"Apellidos",onKeypress:e[4]||(e[4]=o=>a(r).last_name="")},null,8,["modelValue","rules","error-messages"])]),_:1}),l(u,{cols:"12",md:"6"},{default:t(()=>[l(p,{modelValue:a(s).identify,"onUpdate:modelValue":e[5]||(e[5]=o=>a(s).identify=o),rules:[a(m)],autocomplete:"off","error-messages":a(r).identify,label:"CÃ©dula",onKeypress:e[6]||(e[6]=o=>a(r).identify="")},null,8,["modelValue","rules","error-messages"])]),_:1}),l(u,{cols:"12",md:"6"},{default:t(()=>[l(F,{rules:[a(m)],modelValue:a(s).status,"onUpdate:modelValue":e[7]||(e[7]=o=>a(s).status=o),clearable:"",items:_,label:"Estado"},null,8,["rules","modelValue"])]),_:1})]),_:1}),l(c,null,{default:t(()=>[l(u,{cols:"12 d-flex justify-content-center"},{default:t(()=>[l(y,{color:"primary",onClick:g},{default:t(()=>[v(" Guardar ")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{G as _};

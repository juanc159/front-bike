import{u as _}from"./useCrudPermissionStore-38382a1c.js";import{r as d}from"./validators-da167dd6.js";import{d as b,y as g,k as V,ar as w,o as x,c as C,p as o,w as t,V as c,E as v,q as r}from"./index-ecce922e.js";import{a as u,V as f}from"./VRow-1ecd9fa6.js";import{V as F}from"./VSelect-d4be5138.js";import{V as y}from"./VTextField-a151c4b5.js";import{V as $}from"./VForm-a9ea2bae.js";const E=b({__name:"Form",setup(S){const i=_(),{formulario:l}=g(i),a=V([]),m=V(),p=async n=>{var e;i.typeAction=n,await((e=m.value)==null?void 0:e.resetValidation()),a.value=[],n!="back"&&i.keyList++},k=async()=>{var e;const n=await((e=m.value)==null?void 0:e.validate());if(n!=null&&n.valid){const s=await i.fetchSave(l.value);s.status===200&&p("list"),s.status===422&&(a.value=s.error)}};return w(async()=>{await i.fetchDataForm()}),(n,e)=>(x(),C("div",null,[o(f,null,{default:t(()=>[o(u,{cols:"12",class:"d-flex justify-content-end"},{default:t(()=>[o(c,{color:"secondary",onClick:e[0]||(e[0]=s=>p("back"))},{default:t(()=>[v(" Atras ")]),_:1})]),_:1})]),_:1}),o($,{ref_key:"formValidation",ref:m,"lazy-validation":""},{default:t(()=>[o(f,null,{default:t(()=>[o(u,{cols:"4"},{default:t(()=>[o(F,{items:r(i).arrayMenus,rules:[r(d)],modelValue:r(l).menu_id,"onUpdate:modelValue":[e[1]||(e[1]=s=>r(l).menu_id=s),e[2]||(e[2]=s=>r(a).menu_id="")],"item-title":"title","item-value":"id",label:"Grupo","error-messages":r(a).menu_id},null,8,["items","rules","modelValue","error-messages"])]),_:1}),o(u,{cols:"4"},{default:t(()=>[o(y,{modelValue:r(l).name,"onUpdate:modelValue":e[3]||(e[3]=s=>r(l).name=s),rules:[r(d)],"error-messages":r(a).name,label:"Nombre",onKeypress:e[4]||(e[4]=s=>r(a).name="")},null,8,["modelValue","rules","error-messages"])]),_:1}),o(u,{cols:"4"},{default:t(()=>[o(y,{modelValue:r(l).description,"onUpdate:modelValue":e[5]||(e[5]=s=>r(l).description=s),rules:[r(d)],"error-messages":r(a).description,label:"DescripciÃ³n",onKeypress:e[6]||(e[6]=s=>r(a).description="")},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),o(f,null,{default:t(()=>[o(u,{cols:"12 d-flex justify-content-center"},{default:t(()=>[o(c,{color:"primary",onClick:e[7]||(e[7]=s=>k())},{default:t(()=>[v("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{E as _};

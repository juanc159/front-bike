import{u as _}from"./useCrudPermissionStore-f0151376.js";import{d as w,y as b,k as V,aq as g,o as x,c as C,p as t,w as o,H as u,C as c,E as v,G as m,q as s,aw as f}from"./index-62eefdbf.js";import{V as F}from"./VSelect-099d6728.js";import{V as y}from"./VTextField-afc15bd9.js";import{V as $}from"./VForm-28894a98.js";const U=w({__name:"Form",setup(S){const i=_(),{formulario:l}=b(i),r=V([]),d=V(),p=async n=>{var e;i.typeAction=n,await((e=d.value)==null?void 0:e.resetValidation()),r.value=[],n!="back"&&i.keyList++},k=async()=>{var e;const n=await((e=d.value)==null?void 0:e.validate());if(n!=null&&n.valid){const a=await i.fetchSave(l.value);a.status===200&&p("list"),a.status===422&&(r.value=a.error)}};return g(async()=>{await i.fetchDataForm()}),(n,e)=>(x(),C("div",null,[t(m,null,{default:o(()=>[t(u,{cols:"12",class:"d-flex justify-content-end"},{default:o(()=>[t(c,{color:"secondary",onClick:e[0]||(e[0]=a=>p("back"))},{default:o(()=>[v(" Atras ")]),_:1})]),_:1})]),_:1}),t($,{ref_key:"formValidation",ref:d,"lazy-validation":""},{default:o(()=>[t(m,null,{default:o(()=>[t(u,{cols:"4"},{default:o(()=>[t(F,{items:s(i).arrayMenus,rules:[s(f)],modelValue:s(l).menu_id,"onUpdate:modelValue":[e[1]||(e[1]=a=>s(l).menu_id=a),e[2]||(e[2]=a=>s(r).menu_id="")],"item-title":"title","item-value":"id",label:"Grupo","error-messages":s(r).menu_id},null,8,["items","rules","modelValue","error-messages"])]),_:1}),t(u,{cols:"4"},{default:o(()=>[t(y,{modelValue:s(l).name,"onUpdate:modelValue":e[3]||(e[3]=a=>s(l).name=a),rules:[s(f)],"error-messages":s(r).name,label:"Nombre",onKeypress:e[4]||(e[4]=a=>s(r).name="")},null,8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"4"},{default:o(()=>[t(y,{modelValue:s(l).description,"onUpdate:modelValue":e[5]||(e[5]=a=>s(l).description=a),rules:[s(f)],"error-messages":s(r).description,label:"DescripciÃ³n",onKeypress:e[6]||(e[6]=a=>s(r).description="")},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),t(m,null,{default:o(()=>[t(u,{cols:"12 d-flex justify-content-center"},{default:o(()=>[t(c,{color:"primary",onClick:e[7]||(e[7]=a=>k())},{default:o(()=>[v("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{U as _};

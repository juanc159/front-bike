import{e as I,s as M,r as k,q as N,v as C,x as F,y as L,o as h,c as v,d as a,w as c,a as e,k as n,J as y,E as V,b as U,I as D,G as _,H as x,K as E,L as Q,t as f,V as b,S as R}from"./index-5157f066.js";import{u as j}from"./useCrudMenuStore-a4206ec3.js";import{_ as q,V as G}from"./VPagination-4258e78a.js";import{V as H}from"./VSelect-6157aeab.js";import{V as J}from"./VSpacer-a82be323.js";import{V as K}from"./VTextField-f6b14139.js";import{V as B}from"./VDivider-43847767.js";import{V as O}from"./VTable-bba866c0.js";const W={class:"me-3",style:{width:"80px"}},X={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Y={style:{width:"10rem"}},Z=e("thead",null,[e("tr",null,[e("th",{scope:"col"}," Título "),e("th",{scope:"col"}," Direccionar a "),e("th",{scope:"col"}," Icon "),e("th",{scope:"col"}," Acciones ")])],-1),ee={colspan:"4"},te={class:"text-center",style:{width:"5rem"}},ae=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No se encuentran resultados ")],-1),le=[ae],se={class:"text-sm text-disabled"},me=I({__name:"tableList",setup(ne){const o=j(),{menus:d,totalPage:p,links:S,currentPage:s,totalData:T,loading:g}=M(o),r=k(10),u=k(""),m=async()=>{await o.fetchAll({perPage:r.value,page:s.value,searchQuery:u.value})};N(async()=>{o.typeAction!="back"&&await m()}),C(s,async()=>{s.value>p.value&&(s.value=p.value)}),C(r,async()=>{s.value=1}),F([s,u,r],async()=>{await m()});const $=L(()=>{const i=d.value.length?(s.value-1)*p.value+1:0,t=d.value.length+(s.value-1)*p.value;return`Mostrando ${i} a ${t} de ${T.value} registros`}),w=async(i,t=null)=>{o.clearFormulario(),o.typeAction=i,t&&o.fetchInfo(t)},A=async i=>{R.fire({title:"¿Desea eliminar el registro?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Si",denyButtonText:"No"}).then(async t=>{t.isConfirmed?(await o.fetchDelete(i),await m()):t.isDenied})};return(i,t)=>(h(),v("div",null,[a(D,{fluid:"",class:"d-flex flex-wrap py-4 gap-4"},{default:c(()=>[e("div",W,[a(H,{modelValue:n(r),"onUpdate:modelValue":t[0]||(t[0]=l=>y(r)?r.value=l:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),a(J),e("div",X,[e("div",Y,[a(K,{modelValue:n(u),"onUpdate:modelValue":t[1]||(t[1]=l=>y(u)?u.value=l:null),placeholder:"Buscar",density:"compact"},null,8,["modelValue"])]),a(V,{color:"primary",onClick:t[2]||(t[2]=l=>w("form"))},{default:c(()=>[U(" Agregar ")]),_:1})])]),_:1}),a(B),a(O,{class:"text-no-wrap"},{default:c(()=>[Z,e("tbody",null,[_(e("tr",null,[e("td",ee,[a(q)])],512),[[x,n(g)]]),(h(!0),v(E,null,Q(n(d),(l,P)=>_((h(),v("tr",{key:P,style:{height:"3.75rem"}},[e("td",null,[e("span",null,f(l.title),1)]),e("td",null,[e("span",null,f(l.to),1)]),e("td",null,[e("span",null,f(l.icon),1)]),e("td",te,[a(V,{size:"x-small",color:"error",variant:"text",onClick:z=>A(l.id)},{default:c(()=>[a(b,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"]),a(V,{icon:"",size:"x-small",color:"default",variant:"text",onClick:z=>w("form",l.id)},{default:c(()=>[a(b,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"])])])),[[x,!n(g)]])),128))]),_(e("tfoot",null,le,512),[[x,!n(d).length]])]),_:1}),a(B),a(D,{fluid:"",class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:c(()=>[e("span",se,f(n($)),1),a(G,{modelValue:n(s),"onUpdate:modelValue":t[3]||(t[3]=l=>y(s)?s.value=l:null),size:"small","total-visible":5,length:n(S)},null,8,["modelValue","length"])]),_:1})]))}});export{me as _};

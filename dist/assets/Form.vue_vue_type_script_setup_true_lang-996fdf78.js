import{u as c}from"./useCrudMenuStore-aa412b47.js";import{d as b,y as q,k as v,o as w,c as x,p as r,w as s,H as u,C as y,E as g,G as d,q as o,aw as m}from"./index-62eefdbf.js";import{V as f}from"./VTextField-afc15bd9.js";import{V as C}from"./VForm-28894a98.js";const U=b({__name:"Form",setup($){const i=c(),{formulario:a}=q(i),t=v([]),V=v(),p=async n=>{var e;await((e=V.value)==null?void 0:e.resetValidation()),i.typeAction=n,n!="back"&&i.keyList++},k=async()=>{var e;const n=await((e=V.value)==null?void 0:e.validate());if(n!=null&&n.valid){const l=await i.fetchSave();l.status===200&&p("save"),l.status===422&&(t.value=l.error)}};return(n,e)=>(w(),x("div",null,[r(d,null,{default:s(()=>[r(u,{cols:"12",class:"d-flex justify-content-end"},{default:s(()=>[r(y,{color:"secondary",onClick:e[0]||(e[0]=l=>p("back"))},{default:s(()=>[g(" Atras ")]),_:1})]),_:1})]),_:1}),r(C,{ref_key:"formValidation",ref:V,"lazy-validation":""},{default:s(()=>[r(d,null,{default:s(()=>[r(u,{cols:"4"},{default:s(()=>[r(f,{modelValue:o(a).title,"onUpdate:modelValue":e[1]||(e[1]=l=>o(a).title=l),"error-messages":o(t).title,label:"TÃ­tulo",onKeypress:e[2]||(e[2]=l=>o(t).title=""),rules:[o(m)]},null,8,["modelValue","error-messages","rules"])]),_:1}),r(u,{cols:"4"},{default:s(()=>[r(f,{modelValue:o(a).to,"onUpdate:modelValue":e[3]||(e[3]=l=>o(a).to=l),"error-messages":o(t).to,label:"Redireccionar a",onKeypress:e[4]||(e[4]=l=>o(t).to=""),rules:[o(m)]},null,8,["modelValue","error-messages","rules"])]),_:1}),r(u,{cols:"4"},{default:s(()=>[r(f,{modelValue:o(a).icon,"onUpdate:modelValue":e[5]||(e[5]=l=>o(a).icon=l),"error-messages":o(t).icon,label:"Icono",onKeypress:e[6]||(e[6]=l=>o(t).icon=""),rules:[o(m)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),r(d,null,{default:s(()=>[r(u,{cols:"4"},{default:s(()=>[r(f,{modelValue:o(a).requiredPermission,"onUpdate:modelValue":e[7]||(e[7]=l=>o(a).requiredPermission=l),"error-messages":o(t).requiredPermission,label:"Permiso requerido",onKeypress:e[8]||(e[8]=l=>o(t).requiredPermission=""),rules:[o(m)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),r(d,null,{default:s(()=>[r(u,{cols:"12 d-flex justify-content-center"},{default:s(()=>[r(y,{color:"primary",onClick:e[9]||(e[9]=l=>k())},{default:s(()=>[g("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{U as _};

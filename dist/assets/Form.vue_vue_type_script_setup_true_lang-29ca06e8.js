import{u as w}from"./useCrudThirdStore-61b2d1d0.js";import{e as x,r as d,g as C,s as B,q as N,o as S,c as g,d as a,w as t,B as c,a as h,E as V,b as y,A as f,k as r,Q as F}from"./index-5157f066.js";import{V as I}from"./VTextField-f6b14139.js";import{V as T}from"./VForm-8fa3c58d.js";const q={class:"col-md-6 d-flex justify-content-end"},$=x({__name:"Form",props:{userId:{type:Number,default:null,required:!1}},setup(_){const m=_,u=d(),v=C(),l=w(),{formulario:i}=B(l),n=d([]),k=d([]),p=async o=>{var e;l.typeAction=o,k.value=[],n.value=[],await((e=u.value)==null?void 0:e.resetValidation()),o!="back"&&l.keyList++},b=async()=>{var e;i.value.company_id=v.company.id;const o=await((e=u.value)==null?void 0:e.validate());if(o!=null&&o.valid){const s=await l.fetchSave();s.status===200&&p("list"),s.status===422&&(n.value=s.error)}};return N(async()=>{m.userId&&await l.fetchInfo(m.userId)}),(o,e)=>(S(),g("div",null,[a(f,null,{default:t(()=>[a(c,{cols:"12"},{default:t(()=>[h("div",q,[a(V,{color:"secondary",onClick:e[0]||(e[0]=s=>p("back"))},{default:t(()=>[y(" Atras ")]),_:1})])]),_:1})]),_:1}),a(r(T),{ref_key:"formValidation",ref:u,"lazy-validation":""},{default:t(()=>[a(f,null,{default:t(()=>[a(c,{cols:"12",md:"4"},{default:t(()=>[a(I,{modelValue:r(i).name,"onUpdate:modelValue":e[1]||(e[1]=s=>r(i).name=s),rules:[r(F)],autocomplete:"off","error-messages":r(n).name,label:"Nombre",onKeypress:e[2]||(e[2]=s=>r(n).name="")},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),a(f,null,{default:t(()=>[a(c,{cols:"12 d-flex justify-content-center"},{default:t(()=>[a(V,{color:"primary",onClick:b},{default:t(()=>[y(" Guardar ")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{$ as _};

import{u as $}from"./useCrudInventoryStore-34b4852a.js";import{d as c,k as p,z as w,y as K,aq as T,o as I,c as q,p as r,w as t,H as u,m as B,C as v,E as b,G as V,q as e,aw as n,aM as x}from"./index-62eefdbf.js";import{V as F}from"./VSelect-099d6728.js";import{V as d}from"./VTextField-afc15bd9.js";import{V as M}from"./VForm-28894a98.js";const N={class:"col-md-6 d-flex justify-content-end"},G=c({__name:"Form",props:{userId:{type:Number,default:null,required:!1}},setup(S){const g=S,f=p(),k=w(),i=$(),{formulario:a}=K(i),s=p([]),C=p([]),y=async m=>{var l;i.typeAction=m,C.value=[],s.value=[],await((l=f.value)==null?void 0:l.resetValidation()),m!="back"&&i.keyList++},U=async()=>{var l;a.value.company_id=k.company.id;const m=await((l=f.value)==null?void 0:l.validate());if(m!=null&&m.valid){const o=await i.fetchSave();o.status===200&&y("list"),o.status===422&&(s.value=o.error)}};return T(async()=>{g.userId&&await i.fetchInfo(g.userId)}),(m,l)=>(I(),q("div",null,[r(V,null,{default:t(()=>[r(u,{cols:"12"},{default:t(()=>[B("div",N,[r(v,{color:"secondary",onClick:l[0]||(l[0]=o=>y("back"))},{default:t(()=>[b(" Atras ")]),_:1})])]),_:1})]),_:1}),r(e(M),{ref_key:"formValidation",ref:f,"lazy-validation":""},{default:t(()=>[r(V,null,{default:t(()=>[r(u,{cols:"12",md:"4"},{default:t(()=>[r(F,{items:["moto","carro"],modelValue:e(a).vehicleType,"onUpdate:modelValue":l[1]||(l[1]=o=>e(a).vehicleType=o),label:"Tipo de VehÃ­culo",rules:[e(n)]},null,8,["modelValue","rules"])]),_:1}),r(u,{cols:"12",md:"4"},{default:t(()=>[r(d,{modelValue:e(a).reference,"onUpdate:modelValue":l[2]||(l[2]=o=>e(a).reference=o),rules:[e(n)],autocomplete:"off","error-messages":e(s).reference,label:"Referencia",onKeypress:l[3]||(l[3]=o=>e(s).reference="")},null,8,["modelValue","rules","error-messages"])]),_:1}),r(u,{cols:"12",md:"4"},{default:t(()=>[r(d,{modelValue:e(a).brand,"onUpdate:modelValue":l[4]||(l[4]=o=>e(a).brand=o),rules:[e(n)],"error-messages":e(s).brand,label:"Marca",onKeypress:l[5]||(l[5]=o=>e(s).brand="")},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),r(V,null,{default:t(()=>[r(u,{cols:"12",md:"4"},{default:t(()=>[r(d,{modelValue:e(a).model,"onUpdate:modelValue":l[6]||(l[6]=o=>e(a).model=o),rules:[e(n)],"error-messages":e(s).model,label:"Modelo",onKeypress:l[7]||(l[7]=o=>e(s).model="")},null,8,["modelValue","rules","error-messages"])]),_:1}),r(u,{cols:"12",md:"4"},{default:t(()=>[r(d,{modelValue:e(a).color,"onUpdate:modelValue":l[8]||(l[8]=o=>e(a).color=o),maxlength:"10",rules:[e(n)],"error-messages":e(s).color,label:"Color",onKeypress:l[9]||(l[9]=o=>{e(s).color=""})},null,8,["modelValue","rules","error-messages"])]),_:1}),r(u,{cols:"12",md:"4"},{default:t(()=>[r(d,{modelValue:e(a).plate,"onUpdate:modelValue":l[10]||(l[10]=o=>e(a).plate=o),maxlength:"15",rules:[e(n)],"error-messages":e(s).plate,label:"Placa",onKeypress:l[11]||(l[11]=o=>{e(s).plate=""})},null,8,["modelValue","rules","error-messages"])]),_:1}),r(u,{cols:"12",md:"4"},{default:t(()=>[r(d,{modelValue:e(a).registrationSite,"onUpdate:modelValue":l[12]||(l[12]=o=>e(a).registrationSite=o),maxlength:"15",rules:[e(n)],"error-messages":e(s).registrationSite,label:"Sitio de matricula",onKeypress:l[13]||(l[13]=o=>{e(s).registrationSite=""})},null,8,["modelValue","rules","error-messages"])]),_:1}),r(u,{cols:"12",md:"4"},{default:t(()=>[r(d,{modelValue:e(a).purchaseValue,"onUpdate:modelValue":l[14]||(l[14]=o=>e(a).purchaseValue=o),maxlength:"15",rules:[e(n),e(x)],"error-messages":e(s).purchaseValue,label:"Valor de Compra",onKeypress:l[15]||(l[15]=o=>{e(s).purchaseValue=""})},null,8,["modelValue","rules","error-messages"])]),_:1}),r(u,{cols:"12",md:"4"},{default:t(()=>[r(d,{modelValue:e(a).saleValue,"onUpdate:modelValue":l[16]||(l[16]=o=>e(a).saleValue=o),maxlength:"15",rules:[e(n),e(x)],"error-messages":e(s).saleValue,label:"Valor de Venta",onKeypress:l[17]||(l[17]=o=>{e(s).saleValue=""})},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),r(V,null,{default:t(()=>[r(u,{cols:"12 d-flex justify-content-center"},{default:t(()=>[r(v,{color:"primary",onClick:U},{default:t(()=>[b(" Guardar ")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{G as _};
